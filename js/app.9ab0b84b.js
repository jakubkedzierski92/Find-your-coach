(function(e){function t(t){for(var s,c,r=t[0],n=t[1],l=t[2],d=0,u=[];d<r.length;d++)c=r[d],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&u.push(i[c][0]),i[c]=0;for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);b&&b(t);while(u.length)u.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],s=!0,c=1;c<a.length;c++){var r=a[c];0!==i[r]&&(s=!1)}s&&(o.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},c={app:0},i={app:0},o=[];function r(e){return n.p+"js/"+({}[e]||e)+"."+{"chunk-01729e3c":"b944f819"}[e]+".js"}function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.e=function(e){var t=[],a={"chunk-01729e3c":1};c[e]?t.push(c[e]):0!==c[e]&&a[e]&&t.push(c[e]=new Promise((function(t,a){for(var s="css/"+({}[e]||e)+"."+{"chunk-01729e3c":"c50d7dd1"}[e]+".css",i=n.p+s,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var l=o[r],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===s||d===i))return t()}var u=document.getElementsByTagName("style");for(r=0;r<u.length;r++){l=u[r],d=l.getAttribute("data-href");if(d===s||d===i)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var s=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=s,delete c[e],b.parentNode.removeChild(b),a(o)},b.href=i;var h=document.getElementsByTagName("head")[0];h.appendChild(b)})).then((function(){c[e]=0})));var s=i[e];if(0!==s)if(s)t.push(s[2]);else{var o=new Promise((function(t,a){s=i[e]=[t,a]}));t.push(s[2]=o);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,n.nc&&d.setAttribute("nonce",n.nc),d.src=r(e);var u=new Error;l=function(t){d.onerror=d.onload=null,clearTimeout(b);var a=i[e];if(0!==a){if(a){var s=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+s+": "+c+")",u.name="ChunkLoadError",u.type=s,u.request=c,a[1](u)}i[e]=void 0}};var b=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(t)},n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/Find-your-coach/",n.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var b=d;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0115":function(e,t,a){},"0bdd":function(e,t,a){"use strict";a("2860")},"0f62":function(e,t,a){},"133e":function(e,t,a){},2860:function(e,t,a){},"29f1":function(e,t,a){},"2ca6":function(e,t,a){"use strict";a("133e")},4526:function(e,t,a){},"4f7f":function(e,t,a){"use strict";a("0115")},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("7a23");function c(e,t,a,c,i,o){const r=Object(s["E"])("the-header"),n=Object(s["E"])("router-view");return Object(s["w"])(),Object(s["h"])(s["a"],null,[Object(s["k"])(r),Object(s["k"])(n,null,{default:Object(s["M"])(e=>[Object(s["k"])(s["c"],{name:"route",mode:"out-in"},{default:Object(s["M"])(()=>[(Object(s["w"])(),Object(s["f"])(Object(s["F"])(e.Component)))]),_:2},1024)]),_:1})],64)}const i={key:0},o={key:1},r={key:2};function n(e,t,a,c,n,l){const d=Object(s["E"])("router-link"),u=Object(s["E"])("base-button");return Object(s["w"])(),Object(s["h"])("div",null,[Object(s["i"])("header",null,[Object(s["i"])("nav",null,[Object(s["i"])("h1",null,[Object(s["k"])(d,{to:"/",class:"logo-link"},{default:Object(s["M"])(()=>[Object(s["j"])("FindYourCoach.com")]),_:1})]),Object(s["i"])("ul",null,[Object(s["i"])("li",null,[Object(s["k"])(d,{to:"/coaches",class:"list-link"},{default:Object(s["M"])(()=>[Object(s["j"])("All coaches")]),_:1})]),l.isLoggedIn?(Object(s["w"])(),Object(s["h"])("li",i,[Object(s["k"])(d,{to:"/requests",class:"list-link"},{default:Object(s["M"])(()=>[Object(s["j"])("Requests")]),_:1})])):(Object(s["w"])(),Object(s["h"])("li",o,[Object(s["k"])(d,{to:"/auth",class:"list-link"},{default:Object(s["M"])(()=>[Object(s["j"])("Login")]),_:1})])),l.isLoggedIn?(Object(s["w"])(),Object(s["h"])("li",r,[Object(s["k"])(u,{class:"list-link",onClick:l.logout},{default:Object(s["M"])(()=>[Object(s["j"])("Logout")]),_:1},8,["onClick"])])):Object(s["g"])("",!0)])])])])}var l={computed:{isLoggedIn(){return this.$store.getters.isAuthenticated}},methods:{logout(){this.$store.dispatch("logout"),this.$router.replace("/coaches")}}},d=(a("d3bc"),a("d959")),u=a.n(d);const b=u()(l,[["render",n],["__scopeId","data-v-3fb89b78"]]);var h=b,j={components:{TheHeader:h},computed:{didAutoLogout(){return this.$store.getters.didAutoLogout}},watch:{didAutoLogout(e,t){e&&e!==t&&this.$router.replace("/coaches")}},created(){this.$store.dispatch("autoLogin")}};a("4f7f");const O=u()(j,[["render",c]]);var m=O,f=a("6605");const p=Object(s["i"])("h2",null,"Are You interested? Reach out now!",-1);function g(e,t,a,c,i,o){const r=Object(s["E"])("base-card"),n=Object(s["E"])("base-badge"),l=Object(s["E"])("base-button");return Object(s["w"])(),Object(s["h"])("div",null,[Object(s["i"])("section",null,[Object(s["k"])(r,null,{default:Object(s["M"])(()=>[Object(s["i"])("h2",null,Object(s["H"])(o.fullName),1),Object(s["i"])("h3",null,"$"+Object(s["H"])(o.rate)+"/hour",1)]),_:1})]),Object(s["i"])("section",null,[Object(s["k"])(r,null,{default:Object(s["M"])(()=>[(Object(s["w"])(!0),Object(s["h"])(s["a"],null,Object(s["C"])(o.areas,e=>(Object(s["w"])(),Object(s["f"])(n,{key:e,type:e,title:e},null,8,["type","title"]))),128)),Object(s["i"])("p",null,Object(s["H"])(o.description),1)]),_:1})]),Object(s["i"])("section",null,[Object(s["k"])(r,null,{default:Object(s["M"])(()=>[Object(s["i"])("header",null,[p,Object(s["k"])(l,{link:"",to:o.contactLink},{default:Object(s["M"])(()=>[Object(s["j"])("Contact")]),_:1},8,["to"])])]),_:1})])])}var v={props:["id"],data(){return{selectedCoach:null}},computed:{fullName(){return this.selectedCoach.firstName+" "+this.selectedCoach.lastName},areas(){return this.selectedCoach.areas},rate(){return this.selectedCoach.hourlyRate},description(){return this.selectedCoach.description},contactLink(){return"/coaches/"+this.id+"/contact"}},created(){this.selectedCoach=this.$store.getters["coaches/coaches"].find(e=>e.id===this.id)}};const k=u()(v,[["render",g]]);var w=k;const y={class:"controls"},I={key:0},C={key:1},_={key:2};function E(e,t,a,c,i,o){const r=Object(s["E"])("base-dialog"),n=Object(s["E"])("coach-filter"),l=Object(s["E"])("base-button"),d=Object(s["E"])("base-spinner"),u=Object(s["E"])("coach-item"),b=Object(s["E"])("base-card");return Object(s["w"])(),Object(s["h"])("div",null,[Object(s["k"])(r,{show:!!i.error,title:"Houston! We have a problem!",onClose:o.handleError},{default:Object(s["M"])(()=>[Object(s["i"])("p",null,Object(s["H"])(i.error),1)]),_:1},8,["show","onClose"]),Object(s["i"])("section",null,[Object(s["k"])(n,{onChangeFilter:o.setFilters},null,8,["onChangeFilter"])]),Object(s["i"])("section",null,[Object(s["k"])(b,null,{default:Object(s["M"])(()=>[Object(s["i"])("div",y,[Object(s["k"])(l,{mode:"outline",onClick:t[0]||(t[0]=e=>o.loadCoaches(!0))},{default:Object(s["M"])(()=>[Object(s["j"])("Refresh")]),_:1}),o.isLoggedIn?Object(s["g"])("",!0):(Object(s["w"])(),Object(s["f"])(l,{key:0,link:"",to:"/auth?redirect=register"},{default:Object(s["M"])(()=>[Object(s["j"])("Log in to register as a Coach")]),_:1})),!o.isLoggedIn||o.isCoach||i.isLoading?Object(s["g"])("",!0):(Object(s["w"])(),Object(s["f"])(l,{key:1,link:"",mode:"flat",to:"/register"},{default:Object(s["M"])(()=>[Object(s["j"])("Register as a Coach")]),_:1}))]),i.isLoading?(Object(s["w"])(),Object(s["h"])("div",I,[Object(s["k"])(d)])):o.hasCoaches?(Object(s["w"])(),Object(s["h"])("ul",C,[(Object(s["w"])(!0),Object(s["h"])(s["a"],null,Object(s["C"])(o.filteredCoaches,e=>(Object(s["w"])(),Object(s["f"])(u,{key:e.id,id:e.id,"first-name":e.firstName,"last-name":e.lastName,rate:e.hourlyRate,areas:e.areas},null,8,["id","first-name","last-name","rate","areas"]))),128))])):(Object(s["w"])(),Object(s["h"])("h3",_,"No coaches found :("))]),_:1})])])}const N={class:"actions"};function V(e,t,a,c,i,o){const r=Object(s["E"])("base-badge"),n=Object(s["E"])("base-button");return Object(s["w"])(),Object(s["h"])("li",null,[Object(s["i"])("h3",null,Object(s["H"])(o.fullName),1),Object(s["i"])("h4",null,"$"+Object(s["H"])(a.rate)+"/hour",1),Object(s["i"])("div",null,[(Object(s["w"])(!0),Object(s["h"])(s["a"],null,Object(s["C"])(a.areas,e=>(Object(s["w"])(),Object(s["f"])(r,{key:e,type:e,title:e},null,8,["type","title"]))),128))]),Object(s["i"])("div",N,[Object(s["k"])(n,{mode:"outline",link:"",to:o.coachContactLink},{default:Object(s["M"])(()=>[Object(s["j"])("Contact")]),_:1},8,["to"]),Object(s["k"])(n,{link:"",to:o.coachDetailsLink},{default:Object(s["M"])(()=>[Object(s["j"])("View Details")]),_:1},8,["to"])])])}var L={props:["id","firstName","lastName","rate","areas"],computed:{fullName(){return this.firstName+" "+this.lastName},coachContactLink(){return this.$route.path+"/"+this.id+"/contact"},coachDetailsLink(){return this.$route.path+"/"+this.id}}};a("f6e9");const q=u()(L,[["render",V],["__scopeId","data-v-6e5ce3ed"]]);var F=q;const M=e=>(Object(s["z"])("data-v-49f7d10e"),e=e(),Object(s["x"])(),e),S=M(()=>Object(s["i"])("h2",null,"I'm looking for ...",-1)),$={class:"filter-option"},x=M(()=>Object(s["i"])("label",{for:"frontend"},"Frontend",-1)),R=M(()=>Object(s["i"])("label",{for:"backend"},"Backend",-1)),A=M(()=>Object(s["i"])("label",{for:"career"},"Career",-1)),T=M(()=>Object(s["i"])("span",{class:"text-label"},"Coach",-1));function U(e,t,a,c,i,o){const r=Object(s["E"])("base-card");return Object(s["w"])(),Object(s["f"])(r,null,{default:Object(s["M"])(()=>[S,Object(s["i"])("span",$,[Object(s["i"])("input",{type:"checkbox",id:"frontend",checked:"",onChange:t[0]||(t[0]=(...e)=>o.setFilter&&o.setFilter(...e))},null,32),x]),Object(s["i"])("span",null,[Object(s["i"])("input",{type:"checkbox",id:"backend",checked:"",onChange:t[1]||(t[1]=(...e)=>o.setFilter&&o.setFilter(...e))},null,32),R]),Object(s["i"])("span",null,[Object(s["i"])("input",{type:"checkbox",id:"career",checked:"",onChange:t[2]||(t[2]=(...e)=>o.setFilter&&o.setFilter(...e))},null,32),A]),T]),_:1})}var D={emits:["change-filter"],data(){return{filters:{frontend:!0,backend:!0,career:!0}}},methods:{setFilter(e){const t=e.target.id,a=e.target.checked,s={...this.filters,[t]:a};this.filters=s,this.$emit("change-filter",s)}}};a("5ec2");const P=u()(D,[["render",U],["__scopeId","data-v-49f7d10e"]]);var B=P,H={data(){return{error:null,isLoading:!1,activeFilters:{frontend:!0,backend:!0,career:!0}}},components:{CoachItem:F,CoachFilter:B},computed:{isLoggedIn(){return this.$store.getters.isAuthenticated},filteredCoaches(){const e=this.$store.getters["coaches/coaches"];return e.filter(e=>!(!this.activeFilters.frontend||!e.areas.includes("frontend"))||(!(!this.activeFilters.backend||!e.areas.includes("backend"))||!(!this.activeFilters.career||!e.areas.includes("career"))))},isCoach(){return this.$store.getters["coaches/isCoach"]},hasCoaches(){return!this.isLoading&&this.$store.getters["coaches/hasCoaches"]}},created(){this.loadCoaches()},methods:{setFilters(e){this.activeFilters=e},async loadCoaches(e=!1){this.isLoading=!0;try{await this.$store.dispatch("coaches/loadCoaches",{forceRefresh:e})}catch(t){this.error=t.message||"Something went wrong ..."}this.isLoading=!1},handleError(){this.error=!1}}};a("aff7");const K=u()(H,[["render",E],["__scopeId","data-v-2dcacfae"]]);var J=K;const z=Object(s["i"])("h2",null,"Register as a Coach",-1);function Y(e,t,a,c,i,o){const r=Object(s["E"])("coach-form"),n=Object(s["E"])("base-card");return Object(s["w"])(),Object(s["h"])("div",null,[Object(s["i"])("section",null,[Object(s["k"])(n,null,{default:Object(s["M"])(()=>[z,Object(s["k"])(r,{onSaveData:o.saveData},null,8,["onSaveData"])]),_:1})])])}const G=e=>(Object(s["z"])("data-v-d55dd878"),e=e(),Object(s["x"])(),e),Q=G(()=>Object(s["i"])("label",{for:"firstname"},"First name",-1)),W={key:0},X=G(()=>Object(s["i"])("label",{for:"lastname"},"Last name",-1)),Z={key:0},ee=G(()=>Object(s["i"])("label",{for:"description"},"Description",-1)),te={key:0},ae=G(()=>Object(s["i"])("label",{for:"rate"},"Hourly rate",-1)),se={key:0},ce=G(()=>Object(s["i"])("h3",null,"I'm an Expert in ...",-1)),ie=G(()=>Object(s["i"])("label",{for:"frontend"},"Frontend Development",-1)),oe=G(()=>Object(s["i"])("label",{for:"backend"},"Backend Development",-1)),re=G(()=>Object(s["i"])("label",{for:"career"},"Career Manager",-1)),ne={key:0},le={key:0};function de(e,t,a,c,i,o){const r=Object(s["E"])("base-button");return Object(s["w"])(),Object(s["h"])("form",{onSubmit:t[14]||(t[14]=Object(s["O"])((...e)=>o.submitForm&&o.submitForm(...e),["prevent"]))},[Object(s["i"])("div",{class:Object(s["s"])(["form-control",{invalid:!i.firstName.isValid}])},[Q,Object(s["N"])(Object(s["i"])("input",{type:"text",id:"firstname","onUpdate:modelValue":t[0]||(t[0]=e=>i.firstName.val=e),onBlur:t[1]||(t[1]=e=>o.clearValidation("firstName"))},null,544),[[s["K"],i.firstName.val,void 0,{trim:!0}]]),i.firstName.isValid?Object(s["g"])("",!0):(Object(s["w"])(),Object(s["h"])("p",W,"First name is invalid or empty."))],2),Object(s["i"])("div",{class:Object(s["s"])(["form-control",{invalid:!i.lastName.isValid}])},[X,Object(s["N"])(Object(s["i"])("input",{type:"text",id:"lastname","onUpdate:modelValue":t[2]||(t[2]=e=>i.lastName.val=e),onBlur:t[3]||(t[3]=e=>o.clearValidation("lastName"))},null,544),[[s["K"],i.lastName.val,void 0,{trim:!0}]]),i.lastName.isValid?Object(s["g"])("",!0):(Object(s["w"])(),Object(s["h"])("p",Z,"Last name is invalid or empty."))],2),Object(s["i"])("div",{class:Object(s["s"])(["form-control",{invalid:!i.description.isValid}])},[ee,Object(s["N"])(Object(s["i"])("textarea",{type:"text",rows:"5",id:"description","onUpdate:modelValue":t[4]||(t[4]=e=>i.description.val=e),onBlur:t[5]||(t[5]=e=>o.clearValidation("description"))},null,544),[[s["K"],i.description.val,void 0,{trim:!0}]]),i.description.isValid?Object(s["g"])("",!0):(Object(s["w"])(),Object(s["h"])("p",te,"Description is invalid or empty."))],2),Object(s["i"])("div",{class:Object(s["s"])(["form-control",{invalid:!i.rate.isValid}])},[ae,Object(s["N"])(Object(s["i"])("input",{type:"number",id:"rate","onUpdate:modelValue":t[6]||(t[6]=e=>i.rate.val=e),onBlur:t[7]||(t[7]=e=>o.clearValidation("rate"))},null,544),[[s["K"],i.rate.val,void 0,{number:!0}]]),i.rate.isValid?Object(s["g"])("",!0):(Object(s["w"])(),Object(s["h"])("p",se,"Rate must be greater than 0."))],2),Object(s["i"])("div",{class:Object(s["s"])(["form-control",{invalid:!i.areas.isValid}])},[ce,Object(s["i"])("div",null,[Object(s["N"])(Object(s["i"])("input",{type:"checkbox",id:"frontend",value:"frontend","onUpdate:modelValue":t[8]||(t[8]=e=>i.areas.val=e),onBlur:t[9]||(t[9]=e=>o.clearValidation("areas"))},null,544),[[s["J"],i.areas.val]]),ie]),Object(s["i"])("div",null,[Object(s["N"])(Object(s["i"])("input",{type:"checkbox",id:"backend",value:"backend","onUpdate:modelValue":t[10]||(t[10]=e=>i.areas.val=e),onBlur:t[11]||(t[11]=e=>o.clearValidation("areas"))},null,544),[[s["J"],i.areas.val]]),oe]),Object(s["i"])("div",null,[Object(s["N"])(Object(s["i"])("input",{type:"checkbox",id:"career",value:"career","onUpdate:modelValue":t[12]||(t[12]=e=>i.areas.val=e),onBlur:t[13]||(t[13]=e=>o.clearValidation("areas"))},null,544),[[s["J"],i.areas.val]]),re]),i.areas.isValid?Object(s["g"])("",!0):(Object(s["w"])(),Object(s["h"])("p",ne,"You must select at least 1 area."))],2),i.formIsValid?Object(s["g"])("",!0):(Object(s["w"])(),Object(s["h"])("p",le,"Please check provided data!")),Object(s["k"])(r,null,{default:Object(s["M"])(()=>[Object(s["j"])("Register")]),_:1})],32)}var ue={emits:["save-data"],data(){return{firstName:{val:"",isValid:!0},lastName:{val:"",isValid:!0},description:{val:"",isValid:!0},rate:{val:null,isValid:!0},areas:{val:[],isValid:!0},formIsValid:!0}},methods:{clearValidation(e){this[e].isValid=!0},validateForm(){this.formIsValid=!0,""===this.firstName.val&&(this.firstName.isValid=!1,this.formIsValid=!1),""===this.lastName.val&&(this.lastName.isValid=!1,this.formIsValid=!1),""===this.description.val&&(this.description.isValid=!1,this.formIsValid=!1),(!this.rate.val||this.rate.val<0)&&(this.rate.isValid=!1,this.formIsValid=!1),0===this.areas.val.length&&(this.description.isValid=!1,this.formIsValid=!1)},submitForm(){if(this.validateForm(),!this.formIsValid)return;const e={first:this.firstName.val,last:this.lastName.val,desc:this.description.val,rate:this.rate.val,areas:this.areas.val};this.$emit("save-data",e),console.log(e)}}};a("0bdd");const be=u()(ue,[["render",de],["__scopeId","data-v-d55dd878"]]);var he=be,je={components:{CoachForm:he},methods:{saveData(e){this.$store.dispatch("coaches/registerCoach",e),this.$router.replace("/coaches")}}};const Oe=u()(je,[["render",Y]]);var me=Oe;const fe=e=>(Object(s["z"])("data-v-fe46d5da"),e=e(),Object(s["x"])(),e),pe=fe(()=>Object(s["i"])("span",null,[Object(s["i"])("h2",{class:"title"},"Send me a message:")],-1)),ge=fe(()=>Object(s["i"])("label",{for:"email"},"Your email",-1)),ve=fe(()=>Object(s["i"])("label",{for:"message"},"Message",-1)),ke={key:0,class:"errors"},we={class:"actions"};function ye(e,t,a,c,i,o){const r=Object(s["E"])("base-button"),n=Object(s["E"])("base-card");return Object(s["w"])(),Object(s["h"])("div",null,[Object(s["k"])(n,null,{default:Object(s["M"])(()=>[Object(s["i"])("form",{onSubmit:t[2]||(t[2]=Object(s["O"])((...e)=>o.submitForm&&o.submitForm(...e),["prevent"]))},[pe,Object(s["i"])("div",null,[ge,Object(s["N"])(Object(s["i"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>i.email=e)},null,512),[[s["K"],i.email,void 0,{trim:!0}]])]),Object(s["i"])("div",null,[ve,Object(s["N"])(Object(s["i"])("textarea",{rows:"7",id:"message","onUpdate:modelValue":t[1]||(t[1]=e=>i.message=e)},null,512),[[s["K"],i.message,void 0,{trim:!0}]])]),i.formIsValid?Object(s["g"])("",!0):(Object(s["w"])(),Object(s["h"])("p",ke," Please check Your email and message ")),Object(s["i"])("div",we,[Object(s["k"])(r,null,{default:Object(s["M"])(()=>[Object(s["j"])("Send Message")]),_:1})])],32)]),_:1})])}var Ie={data(){return{email:"",message:"",formIsValid:!0}},methods:{submitForm(){this.isValid=!0,""!==this.email&&this.email.includes("@")&&""!==this.message?(this.$store.dispatch("requests/contactCoach",{email:this.email,message:this.message,coachId:this.$route.params.id}),this.$router.replace("/coaches")):this.formIsValid=!1}}};a("a427");const Ce=u()(Ie,[["render",ye],["__scopeId","data-v-fe46d5da"]]);var _e=Ce;const Ee=e=>(Object(s["z"])("data-v-0fcac710"),e=e(),Object(s["x"])(),e),Ne=Ee(()=>Object(s["i"])("header",null,[Object(s["i"])("h2",null,"Requests Received")],-1)),Ve={key:1},Le={key:2};function qe(e,t,a,c,i,o){const r=Object(s["E"])("base-spinner"),n=Object(s["E"])("request-item"),l=Object(s["E"])("base-card");return Object(s["w"])(),Object(s["h"])("section",null,[Object(s["k"])(l,null,{default:Object(s["M"])(()=>[Ne,i.isLoading?(Object(s["w"])(),Object(s["f"])(r,{key:0})):o.hasRequests?(Object(s["w"])(),Object(s["h"])("ul",Ve,[(Object(s["w"])(!0),Object(s["h"])(s["a"],null,Object(s["C"])(o.receivedRequests,e=>(Object(s["w"])(),Object(s["f"])(n,{key:e.id,email:e.userEmail,message:e.message},null,8,["email","message"]))),128))])):(Object(s["w"])(),Object(s["h"])("h3",Le,"You haven't received any message yet."))]),_:1})])}const Fe=["href"];function Me(e,t,a,c,i,o){return Object(s["w"])(),Object(s["h"])("li",null,[Object(s["i"])("div",null,[Object(s["i"])("a",{href:o.emailLink},Object(s["H"])(a.email),9,Fe)]),Object(s["i"])("p",null,Object(s["H"])(a.message),1)])}var Se={props:["email","message"],computed:{emailLink(){return"mailto:"+this.email}}};a("c1d9");const $e=u()(Se,[["render",Me],["__scopeId","data-v-27ab8d65"]]);var xe=$e,Re={data(){return{isLoading:!1}},components:{RequestItem:xe},computed:{receivedRequests(){return this.$store.getters["requests/requests"]},hasRequests(){return this.$store.getters["requests/hasRequests"]}},methods:{async loadReqs(){this.isLoading=!0,await this.$store.dispatch("requests/fetchRequests"),this.isLoading=!1}},created(){this.loadReqs()}};a("9d2f");const Ae=u()(Re,[["render",qe],["__scopeId","data-v-0fcac710"]]);var Te=Ae;const Ue=Object(s["i"])("h2",null,"Page nout found",-1);function De(e,t){const a=Object(s["E"])("router-link"),c=Object(s["E"])("base-card");return Object(s["w"])(),Object(s["h"])("div",null,[Object(s["k"])(c,null,{default:Object(s["M"])(()=>[Ue,Object(s["i"])("p",null,[Object(s["j"])("This page cannot be found - go back to "),Object(s["k"])(a,{to:"/coaches"},{default:Object(s["M"])(()=>[Object(s["j"])("coaches")]),_:1})])]),_:1})])}const Pe={},Be=u()(Pe,[["render",De]]);var He=Be;const Ke=e=>(Object(s["z"])("data-v-48650536"),e=e(),Object(s["x"])(),e),Je={class:"form-control"},ze=Ke(()=>Object(s["i"])("label",{for:"email"},"E-Mail:",-1)),Ye={class:"form-control"},Ge=Ke(()=>Object(s["i"])("label",{for:"password"},"Password:",-1)),Qe={key:0};function We(e,t,a,c,i,o){const r=Object(s["E"])("base-spinner"),n=Object(s["E"])("base-dialog"),l=Object(s["E"])("base-button"),d=Object(s["E"])("base-card");return Object(s["w"])(),Object(s["h"])("div",null,[Object(s["k"])(n,{fixed:"",show:i.isLoading,title:"Authenticaing..."},{default:Object(s["M"])(()=>[Object(s["k"])(r)]),_:1},8,["show"]),Object(s["k"])(n,{show:!!i.error,title:"An error occurred",onClose:o.handleError},{default:Object(s["M"])(()=>[Object(s["j"])(Object(s["H"])(i.error),1)]),_:1},8,["show","onClose"]),Object(s["k"])(d,null,{default:Object(s["M"])(()=>[Object(s["i"])("form",{onSubmit:t[2]||(t[2]=Object(s["O"])((...e)=>o.submitForm&&o.submitForm(...e),["prevent"]))},[Object(s["i"])("div",Je,[ze,Object(s["N"])(Object(s["i"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>i.email=e)},null,512),[[s["K"],i.email,void 0,{trim:!0}]])]),Object(s["i"])("div",Ye,[Ge,Object(s["N"])(Object(s["i"])("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e),id:"password"},null,512),[[s["K"],i.password,void 0,{trim:!0}]])]),i.formIsValid?Object(s["g"])("",!0):(Object(s["w"])(),Object(s["h"])("p",Qe," Please enter a valid email and password (password must be 6 characters long) ")),Object(s["k"])(l,null,{default:Object(s["M"])(()=>[Object(s["j"])(Object(s["H"])(o.submitBtnCaption),1)]),_:1}),Object(s["k"])(l,{type:"button",mode:"flat",onClick:o.switchAuthMode},{default:Object(s["M"])(()=>[Object(s["j"])(Object(s["H"])(o.switchModeBtnCaption),1)]),_:1},8,["onClick"])],32)]),_:1})])}var Xe={data(){return{email:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},methods:{async submitForm(){if(this.formIsValid=!0,""===this.email||!this.email.includes("@")||this.password.length<6)this.formIsValid=!1;else{this.isLoading=!0;try{"login"===this.mode?await this.$store.dispatch("login",{email:this.email,password:this.password}):await this.$store.dispatch("signup",{email:this.email,password:this.password});const e="/"+(this.$route.query.redirect||"coaches");this.$router.replace(e)}catch(e){this.error=e.message||"Failed to fetch"}this.isLoading=!1}},switchAuthMode(){"login"===this.mode?this.mode="signup":this.mode="login"},handleError(){this.error=null}},computed:{submitBtnCaption(){return"login"===this.mode?"Login":"Sign up"},switchModeBtnCaption(){return"login"===this.mode?"Sign Up":"Login"}}};a("8cf1");const Ze=u()(Xe,[["render",We],["__scopeId","data-v-48650536"]]);var et=Ze,tt=a("5502"),at=(a("14d9"),{registerCoach(e,t){e.coaches.push(t)},setCoaches(e,t){e.coaches=t},setFetchTimestamp(e){e.lastFetch=(new Date).getTime()}}),st={async registerCoach(e,t){const a=e.rootGetters.userId,s={firstName:t.first,lastName:t.last,description:t.desc,hourlyRate:t.rate,areas:t.areas},c=e.rootGetters.token,i=await fetch(`https://findyourcoach-b1af5-default-rtdb.firebaseio.com/coaches/${a}.json?auth=`+c,{method:"PUT",body:JSON.stringify(s)});i.ok,e.commit("registerCoach",{...s,id:a})},async loadCoaches(e,t){if(!t.forceRefresh&&!e.getters.shouldUpdate)return;const a=await fetch("https://findyourcoach-b1af5-default-rtdb.firebaseio.com/coaches.json"),s=await a.json();a.ok;const c=[];for(const i in s){const e={id:i,firstName:s[i].firstName,lastName:s[i].lastName,description:s[i].description,hourlyRate:s[i].hourlyRate,areas:s[i].areas};c.push(e)}e.commit("setCoaches",c),e.commit("setFetchTimestamp")}},ct={coaches(e){return e.coaches},hasCoaches(e){return e.coaches&&e.coaches.length>0},isCoach(e,t,a,s){const c=t.coaches,i=s.userId;return c.some(e=>e.id===i)},shouldUpdate(e){const t=e.lastFetch;if(!t)return!0;const a=(new Date).getTime();return(a-t)/1e3>60}},it={namespaced:!0,state(){return{lastFetch:null,coaches:[{id:"c1",firstName:"Jakub",lastName:"Kedzierski",areas:["frontend","backend","career"],description:"I'm Jakub, Nice to meet you!",hourlyRate:30},{id:"c2",firstName:"Julie",lastName:"Jones",areas:["frontend","career"],description:"I'm Julia, hi",hourlyRate:30}]}},mutations:at,actions:st,getters:ct},ot={addRequest(e,t){e.requests.push(t)},setRequests(e,t){e.requests=t}},rt=(a("d9e2"),{async contactCoach(e,t){const a={userEmail:t.email,message:t.message},s=await fetch(`https://findyourcoach-b1af5-default-rtdb.firebaseio.com/requests/${t.coachId}.json`,{method:"POST",body:JSON.stringify(a)}),c=await s.json();if(!s.ok){const e=new Error(c.message||" something went wrong...");throw e}a.id=c.name,a.coachId=t.coachId,e.commit("addRequest",a)},async fetchRequests(e){const t=e.rootGetters.userId,a=e.rootGetters.token,s=await fetch(`https://findyourcoach-b1af5-default-rtdb.firebaseio.com/requests/${t}.json?auth=`+a),c=await s.json();if(!s.ok){const e=new Error(c.message||"Failed to fetch requests.");throw e}const i=[];for(const o in c){const e={id:o,coachId:t,userEmail:c[o].userEmail,message:c[o].message};i.push(e)}e.commit("setRequests",i)}}),nt={requests(e,t,a,s){const c=s.userId;return e.requests.filter(e=>e.coachId===c)},hasRequests(e,t){return t.requests&&t.requests.length>0}},lt={namespaced:!0,state(){return{requests:[]}},mutations:ot,actions:rt,getters:nt},dt={setUser(e,t){e.token=t.token,e.userId=t.userId,e.didLogout=!1},didLogout(e){e.didLogout=!0}};let ut;var bt={async login(e,t){return e.dispatch("auth",{...t,mode:"login"})},async signup(e,t){return e.dispatch("auth",{...t,mode:"signup"})},async auth(e,t){const a=t.mode;let s="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDmDTEvSlSEU3nNRqSM_Kn20OvEPKPAgsQ";"signup"===a&&(s="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDmDTEvSlSEU3nNRqSM_Kn20OvEPKPAgsQ");const c=await fetch(s,{method:"POST",body:JSON.stringify({email:t.email,password:t.password,returnSecureToken:!0})}),i=await c.json();if(!c.ok){const e=new Error(i.message||"Failed to authenticate");throw e}const o=1e3*+i.expiresIn,r=(new Date).getTime()+o;localStorage.setItem("tokenExpiritaion",r),localStorage.setItem("token",i.idToken),localStorage.setItem("userId",i.localId),ut=setTimeout((function(){e.dispatch("autoLogout")}),o),e.commit("setUser",{token:i.idToken,userId:i.localId,tokenExpiration:r})},autoLogin(e){const t=localStorage.getItem("token"),a=localStorage.getItem("userId"),s=localStorage.getItem("tokenExpiration"),c=+s-(new Date).getTime();c>0||(ut=setTimeout((function(){e.dispatch("autoLogout")}),c),t&&a&&e.commit("setUser",{token:t,userId:a}))},logout(e){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("tokenExpiration"),clearTimeout(ut),e.commit("setUser",{token:null,userId:null,tokenExpiration:null})},autoLogout(e){e.dispatch("logout"),e.commit("didLogout")}},ht={userId(e){return e.userId},token(e){return e.token},isAuthenticated(e){return!!e.token},didAutoLogout(e){return e.didAutoLogout}},jt={state(){return{userId:null,token:null,didLogout:!1}},mutations:dt,actions:bt,getters:ht};const Ot=Object(tt["a"])({modules:{coaches:it,requests:lt,auth:jt}});var mt=Ot;const ft=Object(f["a"])({history:Object(f["b"])(),routes:[{path:"/",redirect:"/coaches"},{path:"/coaches",component:J},{path:"/coaches/:id",component:w,props:!0},{path:"/coaches/:id/contact",component:_e},{path:"/register",component:me,meta:{requiresAuth:!0}},{path:"/requests",component:Te,meta:{requiresAuth:!0}},{path:"/auth",component:et,meta:{requiresUnauth:!0}},{path:"/:notFound(.*)",component:He}]});ft.beforeEach((function(e,t,a){e.meta.requiresAuth&&!mt.getters.isAuthenticated?a("/auth"):e.meta.requiresUnauth&&mt.getters.isAuthenticated?a("/coaches"):a()}));var pt=ft;const gt={class:"card"};function vt(e,t){return Object(s["w"])(),Object(s["h"])("div",gt,[Object(s["D"])(e.$slots,"default",{},void 0,!0)])}a("2ca6");const kt={},wt=u()(kt,[["render",vt],["__scopeId","data-v-4bba0492"]]);var yt=wt;function It(e,t,a,c,i,o){const r=Object(s["E"])("router-link");return a.link?(Object(s["w"])(),Object(s["f"])(r,{key:1,to:a.to,class:Object(s["s"])(a.mode)},{default:Object(s["M"])(()=>[Object(s["D"])(e.$slots,"default",{},void 0,!0)]),_:3},8,["to","class"])):(Object(s["w"])(),Object(s["h"])("button",{key:0,class:Object(s["s"])(a.mode)},[Object(s["D"])(e.$slots,"default",{},void 0,!0)],2))}var Ct={props:{link:{type:Boolean,required:!1,default:!1},to:{type:String,required:!1,default:"/"},mode:{type:String,required:!1,default:""}}};a("7cd6");const _t=u()(Ct,[["render",It],["__scopeId","data-v-c7b9a6ba"]]);var Et=_t;function Nt(e,t,a,c,i,o){return Object(s["w"])(),Object(s["h"])("span",{class:Object(s["s"])(["badge",a.type])},Object(s["H"])(o.text),3)}var Vt={props:["type","title"],computed:{text(){return this.title.toUpperCase()}}};a("ed06");const Lt=u()(Vt,[["render",Nt],["__scopeId","data-v-35ab5c92"]]);var qt=Lt;const Ft=e=>(Object(s["z"])("data-v-93f8f052"),e=e(),Object(s["x"])(),e),Mt={class:"spinner"},St=Ft(()=>Object(s["i"])("div",{class:"lds-roller"},[Object(s["i"])("div"),Object(s["i"])("div"),Object(s["i"])("div"),Object(s["i"])("div"),Object(s["i"])("div"),Object(s["i"])("div"),Object(s["i"])("div"),Object(s["i"])("div")],-1)),$t=[St];function xt(e,t){return Object(s["w"])(),Object(s["h"])("div",Mt,$t)}a("956b");const Rt={},At=u()(Rt,[["render",xt],["__scopeId","data-v-93f8f052"]]);var Tt=At;const Ut=Object(s["l"])(()=>a.e("chunk-01729e3c").then(a.bind(null,"ee98"))),Dt=Object(s["e"])(m);Dt.component("base-card",yt),Dt.component("base-button",Et),Dt.component("base-badge",qt),Dt.component("base-spinner",Tt),Dt.component("base-dialog",Ut),Dt.use(pt),Dt.use(mt),Dt.mount("#app")},"5ec2":function(e,t,a){"use strict";a("84d6")},"736e":function(e,t,a){},"7cd6":function(e,t,a){"use strict";a("ee8f")},"84d6":function(e,t,a){},"84f6":function(e,t,a){},"8cf1":function(e,t,a){"use strict";a("e901")},"956b":function(e,t,a){"use strict";a("4526")},9885:function(e,t,a){},"9d2f":function(e,t,a){"use strict";a("29f1")},"9eb2":function(e,t,a){},a427:function(e,t,a){"use strict";a("0f62")},aff7:function(e,t,a){"use strict";a("84f6")},c1d9:function(e,t,a){"use strict";a("9eb2")},d3bc:function(e,t,a){"use strict";a("9885")},e901:function(e,t,a){},ed06:function(e,t,a){"use strict";a("736e")},ee8f:function(e,t,a){},f6e9:function(e,t,a){"use strict";a("f976")},f976:function(e,t,a){}});
//# sourceMappingURL=app.9ab0b84b.js.map